---
import BaseLayout from "../../layouts/BaseLayout.astro";
import PostCard from "../../components/PostCard.astro";
import { getPublishedPosts } from "../../utils/posts";
import type { SiteLocale } from "../../utils/i18n";

const locale: SiteLocale = "zh-CN";
const posts = await getPublishedPosts(locale);
---

<BaseLayout
  title="文章"
  description="DWILL Blog 全部文章索引。静态发布、低运行时开销、长期可维护。"
>
  <div class="page-center page-center-wide">
    <section class="page-intro page-intro-center">
      <p>归档</p>
      <h1>全部文章</h1>
      <p>当前已发布 {posts.length} 篇文章。</p>
    </section>

    <section class="surface-inline-grid" aria-label="Post archive summary">
      <article class="surface-card">
        <p class="surface-kicker">集合</p>
        <h3>按时间排序</h3>
        <p>全部公开文章以静态页面输出，路由规则稳定可预期。</p>
      </article>
      <article class="surface-card">
        <p class="surface-kicker">分发</p>
        <h3>搜索与订阅就绪</h3>
        <p>构建时生成 Sitemap 与 RSS，便于抓取和订阅分发。</p>
      </article>
    </section>

    <section class="post-grid post-grid-wide">
      {posts.map((post) => <PostCard post={post} locale={locale} />)}
    </section>
  </div>
</BaseLayout>
